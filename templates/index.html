<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>PDFVert & TTS Pro</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <link
      rel="stylesheet"
      href="/static/style.css"
    />

    <!-- Tesseract.js latest version with Vietnamese language support -->
    <!-- v5 -->
<script src='https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js'></script>
  </head>
  <body
    class="bg-slate-50 min-h-screen font-sans"
  >
    <div
      class="container mx-auto px-4 py-10 max-w-4xl"
    >
      <header class="text-center mb-12">
        <h1
          class="text-4xl font-bold text-indigo-700 mb-2"
        >
          PDFVert & TTS Pro
        </h1>
        <p class="text-slate-600">
          Chuy·ªÉn ƒë·ªïi File v√† VƒÉn b·∫£n th√†nh Gi·ªçng
          n√≥i mi·ªÖn ph√≠
        </p>
      </header>

      <div>
        <div
          class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200"
        >
          <h2
            class="text-xl font-semibold mb-4 flex items-center"
          >
            <span class="mr-2">üìÑ</span> X·ª≠ l√Ω
            File PDF
          </h2>

          <!-- Operation Selection -->
          <div class="mb-6">
            <label
              class="block text-sm font-medium text-slate-700 mb-3"
              >Ch·ªçn lo·∫°i x·ª≠ l√Ω:</label
            >
            <div
              class="grid grid-cols-2 md:grid-cols-3 gap-3"
            >
              <!-- Convert -->
              <div
                class="operation-card p-4 border-2 border-slate-200 rounded-xl cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition-all duration-200"
                data-operation="convert"
              >
                <div class="text-center">
                  <div class="text-3xl mb-2">
                    üîÑ
                  </div>
                  <div
                    class="font-medium text-sm mb-1"
                  >
                    Chuy·ªÉn ƒë·ªïi
                  </div>
                  <div
                    class="text-xs text-slate-500 leading-tight"
                  >
                    PDF ‚Üî DOCX
                  </div>
                </div>
              </div>

              <!-- Compress -->
              <div
                class="operation-card p-4 border-2 border-slate-200 rounded-xl cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition-all duration-200"
                data-operation="compress"
              >
                <div class="text-center">
                  <div class="text-3xl mb-2">
                    üóúÔ∏è
                  </div>
                  <div
                    class="font-medium text-sm mb-1"
                  >
                    N√©n PDF
                  </div>
                  <div
                    class="text-xs text-slate-500 leading-tight"
                  >
                    Gi·∫£m dung l∆∞·ª£ng<br />file
                    PDF
                  </div>
                </div>
              </div>

              <!-- Merge -->
              <div
                class="operation-card p-4 border-2 border-slate-200 rounded-xl cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition-all duration-200"
                data-operation="merge"
              >
                <div class="text-center">
                  <div class="text-3xl mb-2">
                    üîó
                  </div>
                  <div
                    class="font-medium text-sm mb-1"
                  >
                    G·ªôp PDF
                  </div>
                  <div
                    class="text-xs text-slate-500 leading-tight"
                  >
                    Nhi·ªÅu file<br />th√†nh 1
                  </div>
                </div>
              </div>

              <!-- Split -->
              <div
                class="operation-card p-4 border-2 border-slate-200 rounded-xl cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition-all duration-200"
                data-operation="split"
              >
                <div class="text-center">
                  <div class="text-3xl mb-2">
                    ‚úÇÔ∏è
                  </div>
                  <div
                    class="font-medium text-sm mb-1"
                  >
                    T√°ch PDF
                  </div>
                  <div
                    class="text-xs text-slate-500 leading-tight"
                  >
                    1 file th√†nh<br />nhi·ªÅu
                    trang
                  </div>
                </div>
              </div>

              <!-- Image to PDF -->
              <div
                class="operation-card p-4 border-2 border-slate-200 rounded-xl cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition-all duration-200"
                data-operation="image-to-pdf"
              >
                <div class="text-center">
                  <div class="text-3xl mb-2">
                    üñºÔ∏è
                  </div>
                  <div
                    class="font-medium text-sm mb-1"
                  >
                    ·∫¢nh ‚Üí PDF
                  </div>
                  <div
                    class="text-xs text-slate-500 leading-tight"
                  >
                    JPG/PNG<br />sang PDF
                  </div>
                </div>
              </div>

              <!-- OCR -->
              <div
                class="operation-card p-4 border-2 border-slate-200 rounded-xl cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition-all duration-200"
                data-operation="ocr"
              >
                <div class="text-center">
                  <div class="text-3xl mb-2">
                    üìù
                  </div>
                  <div
                    class="font-medium text-sm mb-1"
                  >
                    OCR (Beta)
                  </div>
                  <div
                    class="text-xs text-slate-500 leading-tight"
                  >
                    Tr√≠ch xu·∫•t<br/>
                    vƒÉn b·∫£n
                    <br/>
                    (Only support English)
                  </div>
                </div>
              </div>
            </div>

            <!-- Selected operation indicator -->
            <div
              id="selected-operation"
              class="mt-3 text-center text-sm text-slate-600 hidden"
            >
              ƒê√£ ch·ªçn:
              <span
                id="selected-operation-text"
                class="font-medium"
              ></span>
            </div>
          </div>

          <!-- File Upload Zone -->
          <div
            id="drop-zone"
            class="border-2 border-dashed border-slate-300 rounded-xl p-8 text-center hover:border-indigo-500 transition-colors cursor-pointer"
          >
            <p
              class="text-slate-500"
              id="file-label"
            >
              K√©o th·∫£ file v√†o ƒë√¢y ho·∫∑c click ƒë·ªÉ
              ch·ªçn
            </p>
            <input
              type="file"
              id="file-input"
              class="hidden"
              accept=".pdf,.docx,.jpg,.jpeg,.png"
            />
            <input
              type="file"
              id="files-input"
              class="hidden"
              multiple
              accept=".pdf"
            />
          </div>

          <!-- Dynamic Options based on operation -->
          <div
            id="operation-options"
            class="mt-4 space-y-4"
          >
            <!-- Convert options -->
            <div
              id="convert-options"
              class="operation-option"
            >
              <label
                class="block text-sm font-medium text-slate-700 mb-1"
                >ƒê·ªãnh d·∫°ng ƒë·∫ßu ra:</label
              >
              <select
                id="target-format"
                class="w-full p-2 rounded-lg border border-slate-300 focus:ring-indigo-500"
              >
                <option value="docx">
                  Sang DOCX
                </option>
                <option value="pdf">
                  Sang PDF
                </option>
              </select>
            </div>

            <!-- Merge options -->
            <div
              id="merge-options"
              class="operation-option hidden"
            >
              <label
                class="block text-sm font-medium text-slate-700 mb-1"
                >T√™n file ƒë·∫ßu ra:</label
              >
              <input
                type="text"
                id="merge-output-name"
                class="w-full p-2 rounded-lg border border-slate-300 focus:ring-indigo-500"
                placeholder="merged_pdf"
              />
            </div>

            <!-- Split options -->
            <div
              id="split-options"
              class="operation-option hidden"
            >
              <label
                class="block text-sm font-medium text-slate-700 mb-1"
                >C√°c trang c·∫ßn t√°ch (VD:
                1,3,5-7):</label
              >
              <input
                type="text"
                id="split-pages"
                class="w-full p-2 rounded-lg border border-slate-300 focus:ring-indigo-500"
                placeholder="ƒê·ªÉ tr·ªëng ƒë·ªÉ t√°ch t·∫•t c·∫£ trang"
              />
            </div>
          </div>

          <button
            id="btn-convert"
            class="w-full mt-6 bg-indigo-600 text-white py-2 rounded-lg font-medium hover:bg-indigo-700 transition-all disabled:bg-slate-400"
          >
            B·∫Øt ƒë·∫ßu x·ª≠ l√Ω
          </button>
        </div>

        <div
          class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200"
        >
          <h2
            class="text-xl font-semibold mb-4 flex items-center"
          >
            <span class="mr-2">üîä</span> VƒÉn b·∫£n
            th√†nh Gi·ªçng n√≥i
          </h2>
          <textarea
            id="tts-text"
            rows="6"
            class="w-full p-3 rounded-xl border border-slate-300 focus:ring-indigo-500"
            placeholder="Nh·∫≠p vƒÉn b·∫£n ti·∫øng Vi·ªát t·∫°i ƒë√¢y..."
          ></textarea>

          <!-- Voice Selection (edge-tts) -->
          <div class="mt-4">
            <label class="block text-sm font-medium text-slate-700 mb-2">
              Gi·ªçng ƒë·ªçc (edge-tts):
            </label>
            <select
              id="tts-voice"
              class="w-full p-2 rounded-lg border border-slate-300 focus:ring-emerald-500"
            >
              <optgroup label="Ti·∫øng Vi·ªát">
                <option value="vi-VN-HoaiMyNeural">Ho√†i My (N·ªØ) - Neural</option>
                <option value="vi-VN-NamMinhNeural">Nam Minh (Nam) - Neural</option>
              </optgroup>
              <optgroup label="English">
                <option value="en-US-AriaNeural">Aria (Female) - Neural</option>
                <option value="en-US-GuyNeural">Guy (Male) - Neural</option>
              </optgroup>
            </select>
            <p class="text-xs text-slate-500 mt-1">
              edge-tts s·ª≠ d·ª•ng c√¥ng ngh·ªá gi·ªçng n√≥i neural ch·∫•t l∆∞·ª£ng cao
            </p>
          </div>

          <!-- Rate Control -->
          <div class="mt-4">
            <label class="block text-sm font-medium text-slate-700 mb-2">
              T·ªëc ƒë·ªô: <span id="rate-value">0%</span>
            </label>
            <input
              type="range"
              id="tts-rate"
              min="-50"
              max="50"
              value="0"
              step="5"
              class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer"
            />
            <div class="flex justify-between text-xs text-slate-500 mt-1">
              <span>-50%</span>
              <span>0%</span>
              <span>+50%</span>
            </div>
          </div>

          <!-- Pitch Control -->
          <div class="mt-4">
            <label class="block text-sm font-medium text-slate-700 mb-2">
              Cao ƒë·ªô: <span id="pitch-value">0Hz</span>
            </label>
            <input
              type="range"
              id="tts-pitch"
              min="-20"
              max="20"
              value="0"
              step="1"
              class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer"
            />
            <div class="flex justify-between text-xs text-slate-500 mt-1">
              <span>-20Hz</span>
              <span>0Hz</span>
              <span>+20Hz</span>
            </div>
          </div>

          <!-- Audio Preview -->
          <div id="audio-preview" class="mt-4 hidden">
            <label class="block text-sm font-medium text-slate-700 mb-2">
              Nghe th·ª≠:
            </label>
            <audio id="tts-audio" controls class="w-full">
              Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ th·∫ª audio.
            </audio>
            <div class="flex gap-2 mt-2">
              <button
                id="btn-preview"
                class="flex-1 bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition-all text-sm"
              >
                üîä Nghe th·ª≠
              </button>
              <button
                id="btn-download"
                class="flex-1 bg-slate-600 text-white py-2 rounded-lg font-medium hover:bg-slate-700 transition-all text-sm"
              >
                T·∫£i xu·ªëng MP3
              </button>
              <button
                id="btn-generate-new"
                class="flex-1 bg-emerald-600 text-white py-2 rounded-lg font-medium hover:bg-emerald-700 transition-all text-sm"
              >
                T·∫°o m·ªõi
              </button>
            </div>
          </div>

          <button
            id="btn-tts"
            class="w-full mt-6 bg-emerald-600 text-white py-2 rounded-lg font-medium hover:bg-emerald-700 transition-all disabled:bg-slate-400"
          >
            T·∫°o file MP3
          </button>
        </div>
      </div>

      <div
        id="loader"
        class="hidden fixed inset-0 bg-slate-900/50 flex items-center justify-center z-50"
      >
        <div
          class="bg-white p-5 rounded-lg flex items-center space-x-3"
        >
          <div
            class="animate-spin rounded-full h-8 w-8 border-4 border-indigo-500 border-t-transparent"
          ></div>
          <span class="font-medium"
            >ƒêang x·ª≠ l√Ω, vui l√≤ng ƒë·ª£i...</span
          >
        </div>
      </div>
    </div>

    <script src="/static/script.js"></script>
    <script src="/static/tts.js"></script>
  </body>
</html>
